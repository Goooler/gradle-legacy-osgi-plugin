plugins {
    id 'java'
    id 'groovy'
    id "com.gradle.plugin-publish" version "0.10.1"
}

repositories {
    mavenCentral()
}

group 'com.github.blindpirate'
version '0.0.1'
sourceCompatibility = '1.8'
targetCompatibility = '1.8'

dependencies {
    compile gradleApi()
    compile localGroovy()
    compile 'biz.aQute.bnd:biz.aQute.bndlib:4.0.0'

    testCompile 'org.spockframework:spock-core:1.3-groovy-2.5'
    testCompile 'net.bytebuddy:byte-buddy:1.10.6'
}

pluginBundle {
    plugins {
        osgiPlugin {
            website = 'https://github.com/blindpirate/gradle-legacy-osgi-plugin'
            vcsUrl = 'https://github.com/blindpirate/gradle-legacy-osgi-plugin'
            description = 'A legacy osgi plugin in Gradle 5'
            tags = ['legacy', 'osgi']
            id = 'com.github.blindpirate.osgi'
            displayName = 'A legacy osgi plugin in Gradle 5'
        }
    }
}

publishPlugins.dependsOn 'check'